{"total":23,"pageSize":10,"pageCount":3,"data":[{"title":"reactäº‹ä»¶ç³»ç»Ÿ","slug":"reactäº‹ä»¶ç³»ç»Ÿ","date":"2019-02-27T16:00:00.000Z","updated":"2019-03-01T03:57:27.684Z","comments":true,"path":"api/articles/reactäº‹ä»¶ç³»ç»Ÿ.json","excerpt":"","keywords":null,"cover":"https://ws1.sinaimg.cn/large/006tKfTcly1g0mfic97rnj315i0ck43w.jpg","content":"<h2 id=\"TL-DR\"><a href=\"#TL-DR\" class=\"headerlink\" title=\"TL;DR\"></a>TL;DR</h2><hr>\n<ul>\n<li>react16.8.3</li>\n<li>react äº‹ä»¶ç³»ç»Ÿåˆ†ä¸º<code>äº‹ä»¶æ³¨å†Œ</code>å’Œ<code>äº‹ä»¶åˆ†å‘</code>ä¸¤ä¸ªé˜¶æ®µã€‚</li>\n<li>äº‹ä»¶æ³¨å†Œé˜¶æ®µå°†<strong>å¤§éƒ¨åˆ†</strong>äº‹ä»¶ç»‘å®šåˆ° documentï¼Œåœ¨äº‹ä»¶åˆ†å‘é˜¶æ®µè°ƒç”¨ <code>dispatchEvent</code>è¿›è¡Œäº‹ä»¶æ•è·ã€äº‹ä»¶å†’æ³¡åˆ†å‘ã€‚</li>\n<li>äº‹ä»¶åˆ†å‘é˜¶æ®µä¼šå…ˆæ ¹æ®äº‹ä»¶ç±»å‹è°ƒç”¨å¯¹åº” EventPlugin è¿›è¡Œäº‹ä»¶åˆæˆï¼Œæ•è·å’Œå†’æ³¡é˜¶æ®µä¼šæ‰§è¡Œçš„ listener éƒ½ä¼šå­˜å‚¨åˆ° event._dispatchListeners</li>\n</ul>\n<h2 id=\"å‰ç½®çŸ¥è¯†\"><a href=\"#å‰ç½®çŸ¥è¯†\" class=\"headerlink\" title=\"å‰ç½®çŸ¥è¯†\"></a>å‰ç½®çŸ¥è¯†</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ä¸¤å˜é‡æ•°ç»„åˆå¹¶</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">accumulate</span>&lt;<span class=\"title\">T</span>&gt;(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  current: ?(T | Array&lt;T&gt;</span>),</span></span><br><span class=\"line\"><span class=\"function\">  <span class=\"title\">next</span>: <span class=\"title\">T</span> | <span class=\"title\">Array</span>&lt;<span class=\"title\">T</span>&gt;,</span></span><br><span class=\"line\"><span class=\"function\">): <span class=\"title\">T</span> | <span class=\"title\">Array</span>&lt;<span class=\"title\">T</span>&gt; </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (current == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> next;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Both are not empty. Warning: Never call x.concat(y) when you are not</span></span><br><span class=\"line\">  <span class=\"comment\">// certain that x is an Array (x could be a string with concat method).</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"built_in\">Array</span>.isArray(current)) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> current.concat(next);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"built_in\">Array</span>.isArray(next)) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [current].concat(next);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> [current, next];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å°†æ•°ç»„é‡Œé¢çš„æ¯ä¸ªå…ƒç´ ä½œä¸º cb çš„å‚æ•°,æ‰§è¡Œ cb</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">forEachAccumulated</span>&lt;<span class=\"title\">T</span>&gt;(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  arr: ?(Array&lt;T&gt; | T</span>),</span></span><br><span class=\"line\"><span class=\"function\">  <span class=\"title\">cb</span>: (<span class=\"params\">elem: T</span>) =&gt; <span class=\"title\">void</span>,</span></span><br><span class=\"line\"><span class=\"function\">  <span class=\"title\">scope</span>: ?<span class=\"title\">any</span>,</span></span><br><span class=\"line\"><span class=\"function\">) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"built_in\">Array</span>.isArray(arr)) &#123;</span><br><span class=\"line\">    arr.forEach(cb, scope);</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (arr) &#123;</span><br><span class=\"line\">    cb.call(scope, arr);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"äº‹ä»¶æ³¨å†Œ\"><a href=\"#äº‹ä»¶æ³¨å†Œ\" class=\"headerlink\" title=\"äº‹ä»¶æ³¨å†Œ\"></a>äº‹ä»¶æ³¨å†Œ</h2><p><img src=\"https://ws1.sinaimg.cn/large/006tKfTcly1g0mfic97rnj315i0ck43w.jpg\" alt=\"äº‹ä»¶æ³¨å†Œæµç¨‹\"></p>\n<p>æ ¹æ®ä¸Šå›¾æ­¥éª¤æˆ‘ä»¬é€æ­¥åˆ†æä¸€ä¸‹å…·ä½“ç»†èŠ‚ã€‚</p>\n<h3 id=\"åœ¨-document-ä¸Šç»‘å®šäº‹ä»¶\"><a href=\"#åœ¨-document-ä¸Šç»‘å®šäº‹ä»¶\" class=\"headerlink\" title=\"åœ¨ document ä¸Šç»‘å®šäº‹ä»¶\"></a>åœ¨ document ä¸Šç»‘å®šäº‹ä»¶</h3><p>document ä¸ŠåŒä¸€ç±»å‹çš„äº‹ä»¶åªä¼šç»‘å®šä¸€æ¬¡ã€‚ä¸¾ä¸ªğŸŒ°ï¼š<br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Control</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">        &lt;&gt;</span><br><span class=\"line\">            &lt;button onClick=&#123;() =&gt; <span class=\"built_in\">console</span>.log(<span class=\"string\">'button1'</span>)&#125;&gt;<span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\">            &lt;button onClick=&#123;() =&gt; <span class=\"built_in\">console</span>.log(<span class=\"string\">'button2'</span>)&#125;&gt;<span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\">        &lt;<span class=\"regexp\">/&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">    )</span></span><br><span class=\"line\"><span class=\"regexp\">&#125;</span></span><br></pre></td></tr></table></figure></p>\n<p>è¿™é‡Œæˆ‘ä»¬åœ¨ä¸¤ä¸ª button åˆ†åˆ«ç»‘å®šäº†ä¸€æ¬¡ <code>click</code> äº‹ä»¶, ä½†æ˜¯åœ¨ document ä¸Šåªä¼šç»‘å®šä¸€æ¬¡ã€‚ç»§ç»­æ‹¿ <code>click</code> äº‹ä»¶ä¸¾ä¾‹ï¼Œè®©æˆ‘ä»¬ä¸€èµ·æ¥çœ‹ä¸‹æºç ï¼š<br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ... ä»¥ä¸Šçœç•¥å¤§é‡å…¶ä»–äº‹ä»¶çš„æ¡ä»¶ç»‘å®šã€‚dependency ä¸º react å®šä¹‰çš„äº‹ä»¶åï¼Œä¸åŸäº‹ä»¶å­˜åœ¨ä¸€ä¸ªæ˜ å°„</span></span><br><span class=\"line\"><span class=\"comment\">// æ¯”å¦‚ topClick å¯¹åº”çš„æ˜¯ click äº‹ä»¶ç›¸å…³ä¸œè¥¿ï¼Œåé¢äº‹ä»¶åˆæˆå†ç»†è¯´</span></span><br><span class=\"line\"><span class=\"comment\">// mountAt å³ document</span></span><br><span class=\"line\">trapBubbledEvent(dependency, mountAt);</span><br><span class=\"line\"><span class=\"comment\">// å°†è¯¥æ ‡è®°ä¸ºå·²ç»‘å®šï¼Œåç»­ä¸ä¼šé‡å¤ç»‘å®š</span></span><br><span class=\"line\">isListening[dependency] = <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ReactDOMEventListener.js é‡Œé¢çš„ç»‘å®šå†’æ³¡äº‹ä»¶å‡½æ•°</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">trapBubbledEvent</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  topLevelType: DOMTopLevelEventType,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  element: Document | Element,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!element) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> dispatch = isInteractiveTopLevelEventType(topLevelType)</span><br><span class=\"line\">    ? dispatchInteractiveEvent</span><br><span class=\"line\">    : dispatchEvent;</span><br><span class=\"line\"></span><br><span class=\"line\">  addEventBubbleListener(</span><br><span class=\"line\">    element,</span><br><span class=\"line\">    getRawEventName(topLevelType), <span class=\"comment\">// è·å– native äº‹ä»¶å</span></span><br><span class=\"line\">    <span class=\"comment\">// Check if interactive and wrap in interactiveUpdates</span></span><br><span class=\"line\">    dispatch.bind(<span class=\"literal\">null</span>, topLevelType),</span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// EventListener.js æœ‰ä¸¤ä¸ªå‡½æ•°è¿›è¡Œäº‹ä»¶æ•è·å’Œäº‹ä»¶å†’æ³¡çš„äº‹ä»¶ç»‘å®š</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">addEventBubbleListener</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  element: Document | Element,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  eventType: string,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  listener: Function,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\"></span>): <span class=\"title\">void</span> </span>&#123;</span><br><span class=\"line\">  element.addEventListener(eventType, listener, <span class=\"literal\">false</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">addEventCaptureListener</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  element: Document | Element,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  eventType: string,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  listener: Function,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\"></span>): <span class=\"title\">void</span> </span>&#123;</span><br><span class=\"line\">  element.addEventListener(eventType, listener, <span class=\"literal\">true</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>ä»ä¸Šé¢çš„ä»£ç å¯ä»¥çœ‹å‡ºåœ¨ document ä¸Šç»‘å®šçš„å…¶å®éƒ½æ˜¯<code>dispatch</code>äº‹ä»¶ã€‚äº‹ä»¶æ‰§è¡Œçš„æ—¶å€™å°±æ˜¯é€šè¿‡è¿™ä¸ªå‡½æ•°è¿›è¡Œäº‹ä»¶åˆ†å‘ã€‚</p>\n<h3 id=\"åœ¨-target-dom-ä¸Šç»‘å®š-noop-å‡½æ•°\"><a href=\"#åœ¨-target-dom-ä¸Šç»‘å®š-noop-å‡½æ•°\" class=\"headerlink\" title=\"åœ¨ target dom ä¸Šç»‘å®š noop å‡½æ•°\"></a>åœ¨ target dom ä¸Šç»‘å®š noop å‡½æ•°</h3><p>react ä¼šåœ¨ç›®æ ‡ dom ä¸Šä¹Ÿç»‘å®šä¸€ä¸ªäº‹ä»¶ï¼Œäº‹ä»¶å¯¹åº”çš„ç›‘å¬å‡½æ•°ä¸ºä¸€ä¸ªç©ºå‡½æ•°ï¼š<br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">noop</span>(<span class=\"params\"></span>) </span>&#123;&#125;</span><br></pre></td></tr></table></figure></p>\n<p>è¿™æ˜¯ä¸ºäº†å°† target dom ä¸Šçš„ native event å†’æ³¡åˆ° documentï¼Œåœ¨ç”± document è¿›è¡Œå¤„ç†ã€‚</p>\n<h3 id=\"ä¸ºä»€ä¹ˆä¸æ˜¯æ‰€æœ‰äº‹ä»¶éƒ½ç»‘å®šåˆ°-document\"><a href=\"#ä¸ºä»€ä¹ˆä¸æ˜¯æ‰€æœ‰äº‹ä»¶éƒ½ç»‘å®šåˆ°-document\" class=\"headerlink\" title=\"ä¸ºä»€ä¹ˆä¸æ˜¯æ‰€æœ‰äº‹ä»¶éƒ½ç»‘å®šåˆ° document\"></a>ä¸ºä»€ä¹ˆä¸æ˜¯æ‰€æœ‰äº‹ä»¶éƒ½ç»‘å®šåˆ° document</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// react ä¸­æœ‰è¿™ä¹ˆæ®µä»£ç </span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">listenTo</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  registrationName: string,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  mountAt: Document | Element,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> isListening = getListeningForDocument(mountAt);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> dependencies = registrationNameDependencies[registrationName];</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; dependencies.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> dependency = dependencies[i];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!(isListening.hasOwnProperty(dependency) &amp;&amp; isListening[dependency])) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">switch</span> (dependency) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> TOP_SCROLL:</span><br><span class=\"line\">          trapCapturedEvent(TOP_SCROLL, mountAt);</span><br><span class=\"line\">          <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> TOP_FOCUS:</span><br><span class=\"line\">        <span class=\"keyword\">case</span> TOP_BLUR:</span><br><span class=\"line\">          trapCapturedEvent(TOP_FOCUS, mountAt);</span><br><span class=\"line\">          trapCapturedEvent(TOP_BLUR, mountAt);</span><br><span class=\"line\">          <span class=\"comment\">// We set the flag for a single dependency later in this function,</span></span><br><span class=\"line\">          <span class=\"comment\">// but this ensures we mark both as attached rather than just one.</span></span><br><span class=\"line\">          isListening[TOP_BLUR] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">          isListening[TOP_FOCUS] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">          <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> TOP_CANCEL:</span><br><span class=\"line\">        <span class=\"keyword\">case</span> TOP_CLOSE:</span><br><span class=\"line\">          <span class=\"keyword\">if</span> (isEventSupported(getRawEventName(dependency))) &#123;</span><br><span class=\"line\">            trapCapturedEvent(dependency, mountAt);</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> TOP_INVALID:</span><br><span class=\"line\">        <span class=\"keyword\">case</span> TOP_SUBMIT:</span><br><span class=\"line\">        <span class=\"keyword\">case</span> TOP_RESET:</span><br><span class=\"line\">           <span class=\"comment\">// è¿™é‡Œæ˜¯é‡ç‚¹ï¼ï¼ï¼ï¼</span></span><br><span class=\"line\">           <span class=\"comment\">// è¿™äº›äº‹ä»¶ä¼šç›´æ¥ç»‘å®šåˆ°å¯¹åº”çš„ dom ç»“æ„ä¸Š</span></span><br><span class=\"line\">          <span class=\"comment\">// We listen to them on the target DOM elements.</span></span><br><span class=\"line\">          <span class=\"comment\">// Some of them bubble so we don't want them to fire twice.</span></span><br><span class=\"line\">          <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        <span class=\"keyword\">default</span>:</span><br><span class=\"line\">          <span class=\"comment\">// By default, listen on the top level to all non-media events.</span></span><br><span class=\"line\">          <span class=\"comment\">// Media events don't bubble so adding the listener wouldn't do anything.</span></span><br><span class=\"line\">          <span class=\"keyword\">const</span> isMediaEvent = mediaEventTypes.indexOf(dependency) !== <span class=\"number\">-1</span>;</span><br><span class=\"line\">          <span class=\"keyword\">if</span> (!isMediaEvent) &#123;</span><br><span class=\"line\">            trapBubbledEvent(dependency, mountAt);</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"keyword\">break</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      isListening[dependency] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"äº‹ä»¶åˆ†å‘\"><a href=\"#äº‹ä»¶åˆ†å‘\" class=\"headerlink\" title=\"äº‹ä»¶åˆ†å‘\"></a>äº‹ä»¶åˆ†å‘</h2><p><img src=\"https://ws4.sinaimg.cn/large/006tKfTcly1g0n46vst53j317m0hwjyo.jpg\" alt=\"äº‹ä»¶åˆ†å‘\"></p>\n<p>å¯èƒ½ç°åœ¨å·²ç»æœ‰å¾ˆå¤šåŒå­¦å‘èµ·ç–‘é—®äº†ï¼Œä¹‹å‰ç»‘å®šåˆ° component çš„ listener å“ªå»äº†å‘¢ï¼Ÿä»€ä¹ˆæ—¶å€™è¢«æ‰§è¡Œå‘¢ï¼Ÿ<br>ç¨³ä½ï¼Œä½ å°†ä¼šçœ‹åˆ°äº†ã€‚</p>\n<h3 id=\"æŸ¥æ‰¾è§¦å‘äº‹ä»¶çš„-component\"><a href=\"#æŸ¥æ‰¾è§¦å‘äº‹ä»¶çš„-component\" class=\"headerlink\" title=\"æŸ¥æ‰¾è§¦å‘äº‹ä»¶çš„ component\"></a>æŸ¥æ‰¾è§¦å‘äº‹ä»¶çš„ component</h3><p>å‰é¢æˆ‘ä»¬è®²è¿‡ï¼Œæˆ‘ä»¬ç»‘å®šçš„åœ¨ document ä¸Šçš„ listener å…¶å®éƒ½æ˜¯ dispatch è¿™ä¸ªåˆ†å‘å‡½æ•°ã€‚å…·ä½“å®ç°å¦‚ä¸‹ï¼š<br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ReactDOMEventListener.js</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">dispatchEvent</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  topLevelType: DOMTopLevelEventType,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  nativeEvent: AnyNativeEvent,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// .....</span></span><br><span class=\"line\">  <span class=\"comment\">// è·å–è§¦å‘äº‹ä»¶çš„ target</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> nativeEventTarget = getEventTarget(nativeEvent);</span><br><span class=\"line\">  <span class=\"comment\">// æ ¹æ® target event å¯¹è±¡æŸ¥æ‰¾å¯¹åº”çš„è™šæ‹Ÿ dom èŠ‚ç‚¹ï¼Œcomponent</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> targetInst = getClosestInstanceFromNode(nativeEventTarget);</span><br><span class=\"line\">  <span class=\"comment\">//.... </span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">// bookKeeping çš„å¯¹è±¡ç¼“å­˜</span></span><br><span class=\"line\"><span class=\"comment\">//   &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//     topLevelType,</span></span><br><span class=\"line\"><span class=\"comment\">//     nativeEvent,</span></span><br><span class=\"line\"><span class=\"comment\">//     targetInst,</span></span><br><span class=\"line\"><span class=\"comment\">//     ancestors: []</span></span><br><span class=\"line\"><span class=\"comment\">//   &#125;;</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> bookKeeping = getTopLevelCallbackBookKeeping(</span><br><span class=\"line\">    topLevelType,</span><br><span class=\"line\">    nativeEvent,</span><br><span class=\"line\">    targetInst,</span><br><span class=\"line\">  );</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Event queue being processed in the same cycle allows</span></span><br><span class=\"line\">    <span class=\"comment\">// `preventDefault`.</span></span><br><span class=\"line\">    <span class=\"comment\">// \bæ§åˆ¶å‡½æ•°æ‰§è¡Œå‰åçš„ä¸€ä¸ªçŠ¶æ€æ¢å¤</span></span><br><span class=\"line\">    <span class=\"comment\">// å®è´¨æ˜¯ç”¨äºæ‰§è¡Œ handleTopLevel</span></span><br><span class=\"line\">    batchedUpdates(handleTopLevel, bookKeeping);</span><br><span class=\"line\">  &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">    releaseTopLevelCallbackBookKeeping(bookKeeping);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">handleTopLevel</span>(<span class=\"params\">bookKeeping</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> targetInst = bookKeeping.targetInst;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Loop through the hierarchy, in case there's any nested components.</span></span><br><span class=\"line\">  <span class=\"comment\">// It's important that we build the array of ancestors before calling any</span></span><br><span class=\"line\">  <span class=\"comment\">// event handlers, because event handlers can modify the DOM, leading to</span></span><br><span class=\"line\">  <span class=\"comment\">// inconsistencies with ReactMount's node cache. See #1105.</span></span><br><span class=\"line\">  <span class=\"comment\">// æŸ¥æ‰¾ç¥–å…ˆ root çš„ containerï¼Œé€šå¸¸ä¸º null</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> ancestor = targetInst;</span><br><span class=\"line\">  <span class=\"keyword\">do</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!ancestor) &#123;</span><br><span class=\"line\">      bookKeeping.ancestors.push(ancestor);</span><br><span class=\"line\">      <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> root = findRootContainerNode(ancestor);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!root) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    bookKeeping.ancestors.push(ancestor);</span><br><span class=\"line\">    ancestor = getClosestInstanceFromNode(root);</span><br><span class=\"line\">  &#125; <span class=\"keyword\">while</span> (ancestor);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; bookKeeping.ancestors.length; i++) &#123;</span><br><span class=\"line\">    targetInst = bookKeeping.ancestors[i];</span><br><span class=\"line\">    runExtractedEventsInBatch(</span><br><span class=\"line\">      bookKeeping.topLevelType,</span><br><span class=\"line\">      targetInst,</span><br><span class=\"line\">      bookKeeping.nativeEvent,</span><br><span class=\"line\">      getEventTarget(bookKeeping.nativeEvent),</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>ä¸Šé¢ä»£ç çš„ <code>runExtractedEventsInBatch</code> å‡½æ•°ï¼Œå°±æ˜¯æˆ‘ä»¬å³å°†è¦åˆ†æç”Ÿæˆåˆæˆäº‹ä»¶çš„è¿‡ç¨‹ã€‚</p>\n<h3 id=\"ç”Ÿæˆåˆæˆäº‹ä»¶\"><a href=\"#ç”Ÿæˆåˆæˆäº‹ä»¶\" class=\"headerlink\" title=\"ç”Ÿæˆåˆæˆäº‹ä»¶\"></a>ç”Ÿæˆåˆæˆäº‹ä»¶</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// EventPluginHub.js</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">runExtractedEventsInBatch</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  topLevelType: TopLevelType,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  targetInst: null | Fiber,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  nativeEvent: AnyNativeEvent,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  nativeEventTarget: EventTarget,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// ç”Ÿæˆåˆæˆäº‹ä»¶ï¼Œä¸ºæ•°ç»„ç±»å‹ï¼Œå¯èƒ½ä¸æ­¢ä¸€ä¸ª</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> events = extractEvents(</span><br><span class=\"line\">    topLevelType,</span><br><span class=\"line\">    targetInst,</span><br><span class=\"line\">    nativeEvent,</span><br><span class=\"line\">    nativeEventTarget,</span><br><span class=\"line\">  );</span><br><span class=\"line\">  <span class=\"comment\">// è¿è¡Œåˆæˆäº‹ä»¶ï¼Œè¿™ä¸ªæˆ‘ä»¬åé¢å†åˆ†æ</span></span><br><span class=\"line\">  runEventsInBatch(events);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">extractEvents</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  topLevelType: TopLevelType,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  targetInst: null | Fiber,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  nativeEvent: AnyNativeEvent,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  nativeEventTarget: EventTarget,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\"></span>): <span class=\"title\">Array</span>&lt;<span class=\"title\">ReactSyntheticEvent</span>&gt; | <span class=\"title\">ReactSyntheticEvent</span> | <span class=\"title\">null</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> events = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  <span class=\"comment\">// EventPluginHubåœ¨åˆå§‹åŒ–çš„æ—¶å€™ï¼Œæ³¨å…¥äº†ä¸ƒä¸ªplugin</span></span><br><span class=\"line\">  <span class=\"comment\">// ä½¿ç”¨è¿™äº›æ’ä»¶åˆ†åˆ«å¤„ç†ä¸åŒçš„äº‹ä»¶</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; plugins.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Not every plugin in the ordering may be loaded at runtime.</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> possiblePlugin: PluginModule&lt;AnyNativeEvent&gt; = plugins[i];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (possiblePlugin) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// é‡ç‚¹ï¼Œæ¯ä¸ª plugin éƒ½å¿…é¡»æœ‰ extractEvents æ–¹æ³•</span></span><br><span class=\"line\">      <span class=\"comment\">// ç”¨äºä»å¯¹åº” plugin çš„äº‹ä»¶æ± ä¸­å–å‡ºå®ä¾‹</span></span><br><span class=\"line\">      <span class=\"comment\">// æ¢å¥è¯è¯´å°±æ˜¯ï¼Œé€šè¿‡ extractEvents ç”Ÿæˆäº†å•ä¸ªåˆæˆäº‹ä»¶</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> extractedEvents = possiblePlugin.extractEvents(</span><br><span class=\"line\">        topLevelType,</span><br><span class=\"line\">        targetInst,</span><br><span class=\"line\">        nativeEvent,</span><br><span class=\"line\">        nativeEventTarget,</span><br><span class=\"line\">      );</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (extractedEvents) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// æ•°ç»„åˆå¹¶</span></span><br><span class=\"line\">        events = accumulateInto(events, extractedEvents);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> events;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ä»ä¸Šè¿°æºç æˆ‘ä»¬å¯ä»¥å¾—çŸ¥ï¼Œåˆæˆäº‹ä»¶æ˜¯äº‹ä»¶æ’ä»¶é€šè¿‡ extractEvents ç”Ÿæˆçš„ã€‚æˆ‘ä»¬ç”¨ SimpleEventPlugin æ¥ä¸¾ä¾‹è¯´æ˜ extractEvents çš„å·¥ä½œåŸç†ã€‚å‡è®¾è§¦å‘äº‹ä»¶ä¸º click äº‹ä»¶ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// SimpleEventPlugin.js</span></span><br><span class=\"line\"> extractEvents: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">    topLevelType: TopLevelType,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">    targetInst: null | Fiber,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">    nativeEvent: MouseEvent,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">    nativeEventTarget: EventTarget,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  </span>): <span class=\"title\">null</span> | <span class=\"title\">ReactSyntheticEvent</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> dispatchConfig = topLevelEventsToDispatchConfig[topLevelType];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!dispatchConfig) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> EventConstructor;</span><br><span class=\"line\">    <span class=\"keyword\">switch</span> (topLevelType) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">case</span> DOMTopLevelEventTypes.TOP_KEY_PRESS:</span><br><span class=\"line\">       <span class=\"comment\">// ........ çœç•¥ä¸€å †åˆ¤æ–­</span></span><br><span class=\"line\">      <span class=\"comment\">/* falls through */</span></span><br><span class=\"line\">      <span class=\"keyword\">case</span> DOMTopLevelEventTypes.TOP_AUX_CLICK:</span><br><span class=\"line\">      <span class=\"keyword\">case</span> DOMTopLevelEventTypes.TOP_DOUBLE_CLICK:</span><br><span class=\"line\">      <span class=\"keyword\">case</span> DOMTopLevelEventTypes.TOP_MOUSE_DOWN:</span><br><span class=\"line\">      <span class=\"keyword\">case</span> DOMTopLevelEventTypes.TOP_MOUSE_MOVE:</span><br><span class=\"line\">      <span class=\"keyword\">case</span> DOMTopLevelEventTypes.TOP_MOUSE_UP:</span><br><span class=\"line\">        EventConstructor = SyntheticMouseEvent;</span><br><span class=\"line\">      <span class=\"comment\">// .........</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// ä»ä¸Šè¿°ä»£ç å¯çœ‹å‡ºï¼Œæˆ‘ä»¬å–å‡º click äº‹ä»¶å¯¹åº”çš„æ„é€ å‡½æ•°</span></span><br><span class=\"line\">    <span class=\"comment\">// ç„¶åé€šè¿‡é™æ€æ–¹æ³•ï¼Œä»äº‹ä»¶æ± ä¸­å–å‡ºä¸€ä¸ªäº‹ä»¶</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> event = EventConstructor.getPooled(</span><br><span class=\"line\">      dispatchConfig,</span><br><span class=\"line\">      targetInst,</span><br><span class=\"line\">      nativeEvent,</span><br><span class=\"line\">      nativeEventTarget,</span><br><span class=\"line\">    );</span><br><span class=\"line\">    <span class=\"comment\">// äº‹ä»¶çš„åˆå§‹æ“ä½œ</span></span><br><span class=\"line\">    <span class=\"comment\">// ç”¨æ¥ç»‘å®šäº‹ä»¶æ•è·å’Œäº‹ä»¶å†’æ³¡è¿‡ç¨‹ä¸­æ¶‰åŠçš„ç›‘å¬å‡½æ•°</span></span><br><span class=\"line\">    accumulateTwoPhaseDispatches(event);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> event;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// EventPropagators.js</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">accumulateTwoPhaseDispatches</span>(<span class=\"params\">events</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// å°†æ¯ä¸ª events äº‹ä»¶åœ¨ accumulateTwoPhaseDispatchesSingle ä¸Šæ‰§è¡Œ</span></span><br><span class=\"line\">  forEachAccumulated(events, accumulateTwoPhaseDispatchesSingle);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">accumulateTwoPhaseDispatchesSingle</span>(<span class=\"params\">event</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (event &amp;&amp; event.dispatchConfig.phasedRegistrationNames) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// accumulateDirectionalDispatches åé¢æˆ‘ä»¬åœ¨è§£æ</span></span><br><span class=\"line\">    traverseTwoPhase(event._targetInst, accumulateDirectionalDispatches, event);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ReactTreeTraversal.js</span></span><br><span class=\"line\"><span class=\"comment\">// æŸ¥æ‰¾ç›®æ ‡èŠ‚ç‚¹çˆ¶èŠ‚ç‚¹</span></span><br><span class=\"line\"><span class=\"comment\">// fn ä¸ºä¸Šé¢çš„ accumulateDirectionalDispatches</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">traverseTwoPhase</span>(<span class=\"params\">inst, fn, arg</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> path = [];</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (inst) &#123;</span><br><span class=\"line\">    path.push(inst);</span><br><span class=\"line\">    inst = getParent(inst);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> i;</span><br><span class=\"line\">  <span class=\"comment\">// ç”Ÿæˆæ•è·æµç¨‹</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (i = path.length; i-- &gt; <span class=\"number\">0</span>; ) &#123;</span><br><span class=\"line\">    fn(path[i], <span class=\"string\">'captured'</span>, arg);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// ç”Ÿæˆå†’æ³¡æµç¨‹</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (i = <span class=\"number\">0</span>; i &lt; path.length; i++) &#123;</span><br><span class=\"line\">    fn(path[i], <span class=\"string\">'bubbled'</span>, arg);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// EventPropagators.js</span></span><br><span class=\"line\"><span class=\"comment\">// åˆ°è¿™é‡Œæˆ‘ä»¬ç»ˆäºçœ‹åˆ° _dispatchListeners äº†</span></span><br><span class=\"line\"><span class=\"comment\">// _dispatchListener æŒ‰æ•è·å’Œå†’æ³¡çš„é¡ºåºå­˜å‚¨äº†å¯¹åº”çš„ listener</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">accumulateDirectionalDispatches</span>(<span class=\"params\">inst, phase, event</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// æŸ¥æ‰¾ component ä¸Šé¢çš„ listener</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> listener = listenerAtPhase(inst, event, phase);</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (listener) &#123;</span><br><span class=\"line\">    event._dispatchListeners = accumulateInto(</span><br><span class=\"line\">      event._dispatchListeners,</span><br><span class=\"line\">      listener,</span><br><span class=\"line\">    );</span><br><span class=\"line\">    <span class=\"comment\">// å­˜å‚¨å®ä¾‹</span></span><br><span class=\"line\">    event._dispatchInstances = accumulateInto(event._dispatchInstances, inst);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// è·å– dom çš„listener</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">listenerAtPhase</span>(<span class=\"params\">inst, event, propagationPhase: PropagationPhases</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> registrationName =</span><br><span class=\"line\">    event.dispatchConfig.phasedRegistrationNames[propagationPhase];</span><br><span class=\"line\">  <span class=\"keyword\">return</span> getListener(inst, registrationName);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// EventPluginHub.js</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getListener</span>(<span class=\"params\">inst: Fiber, registrationName: string</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> listener;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// <span class=\"doctag\">TODO:</span> shouldPreventMouseEvent is DOM-specific and definitely should not</span></span><br><span class=\"line\">  <span class=\"comment\">// live here; needs to be moved to a better place soon</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> stateNode = inst.stateNode;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!stateNode) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Work in progress (ex: onload events in incremental mode).</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// æŸ¥æ‰¾å¯¹åº” component çš„props</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> props = getFiberCurrentPropsFromNode(stateNode);</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!props) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Work in progress.</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// ä» props ä¸­å–å‡º listener</span></span><br><span class=\"line\">  <span class=\"comment\">// è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»åˆå§‹åŒ–å®Œäº†åˆæˆäº‹ä»¶</span></span><br><span class=\"line\">  listener = props[registrationName];</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (shouldPreventMouseEvent(registrationName, inst.type, props)) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> listener;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"æ‰§è¡Œåˆæˆäº‹ä»¶\"><a href=\"#æ‰§è¡Œåˆæˆäº‹ä»¶\" class=\"headerlink\" title=\"æ‰§è¡Œåˆæˆäº‹ä»¶\"></a>æ‰§è¡Œåˆæˆäº‹ä»¶</h3><p>æ¥ç€æˆ‘ä»¬ä¸Šæ–‡ <code>runEventsInBatch</code> å‡½æ•°ï¼Œæ‰§è¡Œåˆæˆäº‹ä»¶<br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// EventPluginHub.js</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">runEventsInBatch</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  events: Array&lt;ReactSyntheticEvent&gt; | ReactSyntheticEvent | null,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// å’Œå½“å‰äº‹ä»¶é˜Ÿåˆ—åˆå¹¶</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (events !== <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">    eventQueue = accumulateInto(eventQueue, events);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Set `eventQueue` to null before processing it so that we can tell if more</span></span><br><span class=\"line\">  <span class=\"comment\">// events get enqueued while processing.</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> processingEventQueue = eventQueue;</span><br><span class=\"line\">  eventQueue = <span class=\"literal\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!processingEventQueue) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">// æ‰§è¡Œäº‹ä»¶é˜Ÿåˆ—ä¸­çš„äº‹ä»¶</span></span><br><span class=\"line\">  forEachAccumulated(processingEventQueue, executeDispatchesAndReleaseTopLevel);</span><br><span class=\"line\">  <span class=\"comment\">// This would be a good time to rethrow if any of the event handlers threw.</span></span><br><span class=\"line\">  rethrowCaughtError();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å¿ä½ï¼Œå¿«æ‘¸åˆ°ç“œäº†</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> executeDispatchesAndReleaseTopLevel = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> executeDispatchesAndRelease(e);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> executeDispatchesAndRelease = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">event: ReactSyntheticEvent</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (event) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// æŒ‰é¡ºåºæ‰§è¡Œäº‹ä»¶</span></span><br><span class=\"line\">    executeDispatchesInOrder(event);</span><br><span class=\"line\">    <span class=\"comment\">// æ‰§è¡Œå®Œåé‡Šæ”¾äº‹ä»¶å®ä¾‹ï¼Œæ”¾å›äº‹ä»¶å¯¹è±¡æ± </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!event.isPersistent()) &#123;</span><br><span class=\"line\">      event.constructor.release(event);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// EventPluginUtils.js</span></span><br><span class=\"line\"><span class=\"comment\">// æœ€åä¸€æ­¥äº†</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">executeDispatchesInOrder</span>(<span class=\"params\">event</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// å–å‡ºä¹‹å‰æˆ‘ä»¬å­˜å…¥ dispatchListeners çš„listener æ‰§è¡Œ</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> dispatchListeners = event._dispatchListeners;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> dispatchInstances = event._dispatchInstances;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (__DEV__) &#123;</span><br><span class=\"line\">    validateEventDispatches(event);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"built_in\">Array</span>.isArray(dispatchListeners)) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; dispatchListeners.length; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (event.isPropagationStopped()) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">// Listeners and Instances are two parallel arrays that are always in sync.</span></span><br><span class=\"line\">      executeDispatch(event, dispatchListeners[i], dispatchInstances[i]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (dispatchListeners) &#123;</span><br><span class=\"line\">    executeDispatch(event, dispatchListeners, dispatchInstances);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  event._dispatchListeners = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  event._dispatchInstances = <span class=\"literal\">null</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">executeDispatch</span>(<span class=\"params\">event, listener, inst</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> type = event.type || <span class=\"string\">'unknown-event'</span>;</span><br><span class=\"line\">  event.currentTarget = getNodeFromInstance(inst);</span><br><span class=\"line\">  invokeGuardedCallbackAndCatchFirstError(type, listener, <span class=\"literal\">undefined</span>, event);</span><br><span class=\"line\">  event.currentTarget = <span class=\"literal\">null</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// invokeGuardedCallbackImpl.js</span></span><br><span class=\"line\"><span class=\"comment\">// æœ€ç»ˆé€šè¿‡è¿™ä¸ªå‡½æ•°æ‰§è¡Œæˆ‘ä»¬çš„ listener</span></span><br><span class=\"line\"><span class=\"comment\">// func å³æˆ‘ä»¬çš„ listener</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> invokeGuardedCallbackImpl = <span class=\"function\"><span class=\"keyword\">function</span>&lt;<span class=\"title\">A</span>, <span class=\"title\">B</span>, <span class=\"title\">C</span>, <span class=\"title\">D</span>, <span class=\"title\">E</span>, <span class=\"title\">F</span>, <span class=\"title\">Context</span>&gt;(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  name: string | null,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  func: (a: A, b: B, c: C, d: D, e: E, f: F</span>) =&gt; <span class=\"title\">mixed</span>,</span></span><br><span class=\"line\"><span class=\"function\">  <span class=\"title\">context</span>: <span class=\"title\">Context</span>,</span></span><br><span class=\"line\"><span class=\"function\">  <span class=\"title\">a</span>: <span class=\"title\">A</span>,</span></span><br><span class=\"line\"><span class=\"function\">  <span class=\"title\">b</span>: <span class=\"title\">B</span>,</span></span><br><span class=\"line\"><span class=\"function\">  <span class=\"title\">c</span>: <span class=\"title\">C</span>,</span></span><br><span class=\"line\"><span class=\"function\">  <span class=\"title\">d</span>: <span class=\"title\">D</span>,</span></span><br><span class=\"line\"><span class=\"function\">  <span class=\"title\">e</span>: <span class=\"title\">E</span>,</span></span><br><span class=\"line\"><span class=\"function\">  <span class=\"title\">f</span>: <span class=\"title\">F</span>,</span></span><br><span class=\"line\"><span class=\"function\">) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> funcArgs = <span class=\"built_in\">Array</span>.prototype.slice.call(<span class=\"built_in\">arguments</span>, <span class=\"number\">3</span>);</span><br><span class=\"line\">  <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">    func.apply(context, funcArgs);</span><br><span class=\"line\">  &#125; <span class=\"keyword\">catch</span> (error) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.onError(error);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure></p>\n<p>å®Œæ¯•ï¼</p>\n<h3 id=\"å‚è€ƒç¾å¥³é»„ç¼å¤§ç¥ï¼Œå»ºè®®é˜…è¯»\"><a href=\"#å‚è€ƒç¾å¥³é»„ç¼å¤§ç¥ï¼Œå»ºè®®é˜…è¯»\" class=\"headerlink\" title=\"å‚è€ƒç¾å¥³é»„ç¼å¤§ç¥ï¼Œå»ºè®®é˜…è¯»\"></a>å‚è€ƒç¾å¥³é»„ç¼å¤§ç¥ï¼Œå»ºè®®é˜…è¯»</h3><p><a href=\"https://segmentfault.com/a/1190000013363525\" target=\"_blank\" rel=\"noopener\">æ­ç§˜Reactå½¢æˆåˆæˆäº‹ä»¶çš„è¿‡ç¨‹</a><br><a href=\"https://segmentfault.com/a/1190000013364457\" target=\"_blank\" rel=\"noopener\">ä¸€çœ‹å°±æ™•çš„Reactäº‹ä»¶æœºåˆ¶</a></p>\n<h3 id=\"æ„Ÿè°¢é˜…è¯»\"><a href=\"#æ„Ÿè°¢é˜…è¯»\" class=\"headerlink\" title=\"æ„Ÿè°¢é˜…è¯»\"></a>æ„Ÿè°¢é˜…è¯»</h3>","text":"TL;DRreact16.8.3react äº‹ä»¶ç³»ç»Ÿåˆ†ä¸ºäº‹ä»¶æ³¨å†Œå’Œäº‹ä»¶åˆ†å‘ä¸¤ä¸ªé˜¶æ®µã€‚äº‹ä»¶æ³¨å†Œé˜¶æ®µå°†å¤§éƒ¨åˆ†äº‹ä»¶ç»‘å®šåˆ° documentï¼Œåœ¨äº‹ä»¶åˆ†å‘é˜¶æ®µè°ƒç”¨ dispatchEventè¿›è¡Œäº‹ä»¶æ•è·ã€äº‹ä»¶å†’æ³¡åˆ†å‘ã€‚äº‹ä»¶åˆ†å‘é˜¶æ®µä¼šå…ˆæ ¹æ®äº‹ä»¶ç±»å‹è°ƒç”¨å¯¹åº” EventPlugin è¿›è¡Œäº‹ä»¶åˆ","link":"","raw":null,"photos":[],"categories":[{"name":"react","slug":"react","count":4,"path":"api/categories/react.json"}],"tags":[{"name":"äº‹ä»¶ç³»ç»Ÿ","slug":"äº‹ä»¶ç³»ç»Ÿ","count":1,"path":"api/tags/äº‹ä»¶ç³»ç»Ÿ.json"}]},{"title":"æ·±å…¥ç†è§£z-index","slug":"æ·±å…¥ç†è§£z-index","date":"2019-02-24T04:20:08.115Z","updated":"2019-02-24T04:20:08.115Z","comments":true,"path":"api/articles/æ·±å…¥ç†è§£z-index.json","excerpt":"<p>z-index ç®€å•å‘€ï¼Œæƒ³æ˜¾ç¤ºåœ¨ä¸Šé¢ç»™ä¸ªå¤§ç‚¹çš„æ•´æ•°ä¸ä¹…è¡Œäº†å—â“â“â“</p>\n<p>æˆ‘ä»¬æƒ³çš„è¿˜æ˜¯ç®€å•äº†ç‚¹ï¼Œè¿™å°±å¥½åƒå†™äº†ä¸€æ®µèƒ½è·‘çš„ä»£ç ï¼Œä½†æ˜¯ä¸çŸ¥é“å®ƒæ˜¯æ€ä¹ˆè·‘èµ·æ¥çš„ï¼Œè¿™å°±æ˜¯æ–°æ‰‹å’Œå¤§ä½¬çš„å·®è·ã€‚è¦å­¦çš„è¿˜å¾ˆå¤šï¼Œä¸”å‹¿éª„å‹¿èºï¼Œä¸å›å…±å‹‰ï¼</p>","keywords":null,"cover":"https://ws4.sinaimg.cn/large/006tNc79gy1fo4i47weplj30jg0dcq3i.jpg","content":null,"text":"z-index ç®€å•å‘€ï¼Œæƒ³æ˜¾ç¤ºåœ¨ä¸Šé¢ç»™ä¸ªå¤§ç‚¹çš„æ•´æ•°ä¸ä¹…è¡Œäº†å—â“â“â“æˆ‘ä»¬æƒ³çš„è¿˜æ˜¯ç®€å•äº†ç‚¹ï¼Œè¿™å°±å¥½åƒå†™äº†ä¸€æ®µèƒ½è·‘çš„ä»£ç ï¼Œä½†æ˜¯ä¸çŸ¥é“å®ƒæ˜¯æ€ä¹ˆè·‘èµ·æ¥çš„ï¼Œè¿™å°±æ˜¯æ–°æ‰‹å’Œå¤§ä½¬çš„å·®è·ã€‚è¦å­¦çš„è¿˜å¾ˆå¤šï¼Œä¸”å‹¿éª„å‹¿èºï¼Œä¸å›å…±å‹‰ï¼ [Figure] å¯ä»¥çœ‹åˆ° opacity ä½¿ z-index èµ·ä½œç”¨ï¼Œå½¢","link":"","raw":null,"photos":[],"categories":[{"name":"css","slug":"css","count":2,"path":"api/categories/css.json"}],"tags":[{"name":"css","slug":"css","count":2,"path":"api/tags/css.json"},{"name":"z-index","slug":"z-index","count":1,"path":"api/tags/z-index.json"}]},{"title":"ç†è§£apply,call,bind","slug":"ç†è§£apply,call,bind","date":"2019-02-24T04:20:08.115Z","updated":"2019-02-24T04:20:08.115Z","comments":true,"path":"api/articles/ç†è§£apply,call,bind.json","excerpt":"<p>ä¹‹å‰å¯¹ js çš„ applyã€callã€bind æ–¹æ³•é›¶é›¶æ•£æ•£æœ‰è¿‡ä¸€äº›äº†è§£ï¼ŒçŸ¥é“å®ƒä»¬å¯ä»¥æ”¹å˜å‡½æ•°è¿è¡Œæ—¶çš„ thisã€‚ä»Šå¤©æ¥æ·±å…¥ç†è§£ä¸€ç•ªã€‚</p>\n<p>å…¶å®å¾ˆå¤šäººå¿ƒæƒ³ä¸ä¹…æ˜¯ç»‘å®š this å˜›ï¼Œæœ‰ä»€ä¹ˆçš„ã€‚</p>\n<p>å¥½ï¼Œé‚£ä¹ˆè¿™å¥ä»£ç ä½•è§£ï¼Ÿ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Function.apply.bind(Math.max, null);</span><br></pre></td></tr></table></figure>","keywords":null,"cover":null,"content":null,"text":"ä¹‹å‰å¯¹ js çš„ applyã€callã€bind æ–¹æ³•é›¶é›¶æ•£æ•£æœ‰è¿‡ä¸€äº›äº†è§£ï¼ŒçŸ¥é“å®ƒä»¬å¯ä»¥æ”¹å˜å‡½æ•°è¿è¡Œæ—¶çš„ thisã€‚ä»Šå¤©æ¥æ·±å…¥ç†è§£ä¸€ç•ªã€‚å…¶å®å¾ˆå¤šäººå¿ƒæƒ³ä¸ä¹…æ˜¯ç»‘å®š this å˜›ï¼Œæœ‰ä»€ä¹ˆçš„ã€‚å¥½ï¼Œé‚£ä¹ˆè¿™å¥ä»£ç ä½•è§£ï¼Ÿ1<br>Function.apply.bind(Math.max, n","link":"","raw":null,"photos":[],"categories":[{"name":"js","slug":"js","count":1,"path":"api/categories/js.json"}],"tags":[{"name":"apply","slug":"apply","count":1,"path":"api/tags/apply.json"},{"name":"call","slug":"call","count":1,"path":"api/tags/call.json"},{"name":"bind","slug":"bind","count":1,"path":"api/tags/bind.json"}]},{"title":"æµè§ˆå™¨åŠ è½½æ–‡ä»¶åŠå…¶è§£æé¡ºåº","slug":"æµè§ˆå™¨åŠ è½½æ–‡ä»¶åŠå…¶è§£æè¿è¡Œé¡ºåº","date":"2019-02-24T04:20:08.114Z","updated":"2019-02-25T04:09:07.524Z","comments":true,"path":"api/articles/æµè§ˆå™¨åŠ è½½æ–‡ä»¶åŠå…¶è§£æè¿è¡Œé¡ºåº.json","excerpt":"<h3 id=\"æµè§ˆå™¨åŠ è½½æ–‡ä»¶åŠå…¶è§£æé¡ºåº\"><a href=\"#æµè§ˆå™¨åŠ è½½æ–‡ä»¶åŠå…¶è§£æé¡ºåº\" class=\"headerlink\" title=\"æµè§ˆå™¨åŠ è½½æ–‡ä»¶åŠå…¶è§£æé¡ºåº\"></a>æµè§ˆå™¨åŠ è½½æ–‡ä»¶åŠå…¶è§£æé¡ºåº</h3><hr>\n<ol>\n<li><p>ç”¨æˆ·è¾“å…¥ç½‘å€ï¼ˆå‡è®¾æ˜¯ä¸ª HTML é¡µé¢ï¼Œå¹¶ä¸”æ˜¯é¦–æ¬¡è®¿é—®ï¼‰ï¼Œæµè§ˆå™¨å‘æœåŠ¡å™¨å‘å‡ºè¯·æ±‚</p>\n</li>\n<li><p>ä¸‹è½½ HTMLï¼Œå¹¶è§£ææ‰§è¡Œï¼Œé€æ­¥æ„å»º DOM æ ‘</p>\n</li>\n<li><p>\u0010å¦‚æœå‘ç°æœ‰å¤–éƒ¨ css æ–‡ä»¶ï¼Œè¿›è¡Œå¼‚æ­¥åŠ è½½ï¼Œä¸ä¼šé˜»å¡ HTML çš„è§£æ</p>\n<p>æ³¨ï¼šå¦‚æœä½¿ç”¨ HTTP/2 æ¨é€æŠ€æœ¯ï¼Œå¯ä»¥æå‰è¿›è¡Œèµ„æºçš„æ¨é€</p>","keywords":null,"cover":null,"content":null,"text":"æµè§ˆå™¨åŠ è½½æ–‡ä»¶åŠå…¶è§£æé¡ºåºç”¨æˆ·è¾“å…¥ç½‘å€ï¼ˆå‡è®¾æ˜¯ä¸ª HTML é¡µé¢ï¼Œå¹¶ä¸”æ˜¯é¦–æ¬¡è®¿é—®ï¼‰ï¼Œæµè§ˆå™¨å‘æœåŠ¡å™¨å‘å‡ºè¯·æ±‚ä¸‹è½½ HTMLï¼Œå¹¶è§£ææ‰§è¡Œï¼Œé€æ­¥æ„å»º DOM æ ‘\u0010å¦‚æœå‘ç°æœ‰å¤–éƒ¨ css æ–‡ä»¶ï¼Œè¿›è¡Œå¼‚æ­¥åŠ è½½ï¼Œä¸ä¼šé˜»å¡ HTML çš„è§£ææ³¨ï¼šå¦‚æœä½¿ç”¨ HTTP/2 æ¨é€æŠ€æœ¯ï¼Œå¯ä»¥æå‰è¿›è¡Œèµ„æº","link":"","raw":null,"photos":[],"categories":[{"name":"æ–‡ä»¶åŠ è½½é¡ºåº","slug":"æ–‡ä»¶åŠ è½½é¡ºåº","count":1,"path":"api/categories/æ–‡ä»¶åŠ è½½é¡ºåº.json"}],"tags":[{"name":"æ–‡ä»¶åŠ è½½é¡ºåº","slug":"æ–‡ä»¶åŠ è½½é¡ºåº","count":1,"path":"api/tags/æ–‡ä»¶åŠ è½½é¡ºåº.json"}]},{"title":"webpackä¹‹åŸºç¡€é…ç½®","slug":"webpackä¹‹åŸºç¡€é…ç½®","date":"2019-02-24T04:20:08.114Z","updated":"2019-02-24T04:20:08.114Z","comments":true,"path":"api/articles/webpackä¹‹åŸºç¡€é…ç½®.json","excerpt":"<p>éšç€ web åº”ç”¨é€æ¸å¤æ‚ã€å‰ç«¯æŠ€æœ¯çš„æ—¥æ–°æœˆå¼‚ï¼Œå‰ç«¯ä»£ç çš„å¯æ‰©å±•æ€§ã€å¯ç»´æŠ¤æ€§ä¸æ–­è¢«æä¸Šè®®ç¨‹ã€‚å‰ç«¯ä»£ç å·¥ç¨‹åŒ–çš„é—®é¢˜æ€¥éœ€è¢«è§£å†³ï¼Œä»æ¨¡å—åŒ–åˆ°æ„å»ºå·¥å…·ï¼Œä¸€ä»£ä»£å‘å±•ï¼Œwebpack é¡ºåŠ¿è€Œç”Ÿï¼ŒåŠ›å‹ç¾¤é›„ã€‚</p>","keywords":null,"cover":"https://ws4.sinaimg.cn/large/006tKfTcgy1forowys2uwj31kw0sgqcn.jpg","content":null,"text":"éšç€ web åº”ç”¨é€æ¸å¤æ‚ã€å‰ç«¯æŠ€æœ¯çš„æ—¥æ–°æœˆå¼‚ï¼Œå‰ç«¯ä»£ç çš„å¯æ‰©å±•æ€§ã€å¯ç»´æŠ¤æ€§ä¸æ–­è¢«æä¸Šè®®ç¨‹ã€‚å‰ç«¯ä»£ç å·¥ç¨‹åŒ–çš„é—®é¢˜æ€¥éœ€è¢«è§£å†³ï¼Œä»æ¨¡å—åŒ–åˆ°æ„å»ºå·¥å…·ï¼Œä¸€ä»£ä»£å‘å±•ï¼Œwebpack é¡ºåŠ¿è€Œç”Ÿï¼ŒåŠ›å‹ç¾¤é›„ã€‚ [Figure] å‚è€ƒé“¾æ¥æ·±å…¥æµ…å‡º webpackï¼š http://webpack.w","link":"","raw":null,"photos":[],"categories":[{"name":"webpack","slug":"webpack","count":3,"path":"api/categories/webpack.json"}],"tags":[{"name":"webpack","slug":"webpack","count":3,"path":"api/tags/webpack.json"}]},{"title":"webpackä¹‹ä¼˜åŒ–","slug":"webpackä¹‹ä¼˜åŒ–","date":"2019-02-24T04:20:08.114Z","updated":"2019-02-24T04:20:08.114Z","comments":true,"path":"api/articles/webpackä¹‹ä¼˜åŒ–.json","excerpt":"<p>åœ¨ä¸Šç¯‡ <a href=\"https://winixt.github.io/webpack%E4%B9%8B%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE/\">webpack ä¹‹åŸºç¡€é…ç½®</a>è®²è§£äº† webpack çš„ä¸€äº›åŸºæœ¬ç”¨æ³•ï¼Œæœ¬ç¯‡æˆ‘ä»¬æ¥è¯¦ç»†åˆ†æä¸‹ webpack æ€§èƒ½ç›¸å…³ä¼˜åŒ–ã€‚</p>","keywords":null,"cover":"https://ws4.sinaimg.cn/large/006tNc79ly1foswn2zlu3j31kw0vr7az.jpg","content":null,"text":"åœ¨ä¸Šç¯‡ webpack ä¹‹åŸºç¡€é…ç½®è®²è§£äº† webpack çš„ä¸€äº›åŸºæœ¬ç”¨æ³•ï¼Œæœ¬ç¯‡æˆ‘ä»¬æ¥è¯¦ç»†åˆ†æä¸‹ webpack æ€§èƒ½ç›¸å…³ä¼˜åŒ–ã€‚ [Figure] å‚è€ƒé“¾æ¥æ·±å…¥æµ…å‡º webpackï¼š http://webpack.wuhaolin.cn/webpack ä¸­æ–‡å®˜ç½‘ï¼š https://","link":"","raw":null,"photos":[],"categories":[{"name":"webpack","slug":"webpack","count":3,"path":"api/categories/webpack.json"}],"tags":[{"name":"webpack","slug":"webpack","count":3,"path":"api/tags/webpack.json"},{"name":"ä¼˜åŒ–","slug":"ä¼˜åŒ–","count":1,"path":"api/tags/ä¼˜åŒ–.json"}]},{"title":"æ·±å…¥ç†è§£ http/2","slug":"æ·±å…¥ç†è§£ http2","date":"2019-02-24T04:20:08.114Z","updated":"2019-02-24T04:20:08.115Z","comments":true,"path":"api/articles/æ·±å…¥ç†è§£ http2.json","excerpt":"<blockquote>\n<p>ä»¥ä¸‹å†…å®¹æ‘˜è‡ª <a href=\"https://developers.google.com/web/fundamentals/performance/http2/?hl=zh-cn\" target=\"_blank\" rel=\"noopener\">HTTP/2 ç®€ä»‹</a> ï¼Œè¦äº†è§£æ›´å¤šè¯·ç§»æ­¥ <a href=\"http://shop.oreilly.com/product/0636920028048.do\" target=\"_blank\" rel=\"noopener\">ã€ŠWeb æ€§èƒ½æƒå¨æŒ‡å—ã€‹</a>ï¼ˆOâ€™Reillyï¼Œä½œè€…ï¼šllya Grigorikï¼‰</p>\n</blockquote>\n<p>è¿‘æ¥ HTTP/2 çš„å£°éŸ³ä¸æ–­åœ¨å›½å†…å„ä¸ªæŠ€æœ¯è®ºå›å“èµ·ï¼Œè¯´ä»€ä¹ˆ HTTP/2 å¯ä»¥å¸¦æ¥å¤šå°‘å¤šå°‘æ€§èƒ½æå‡ï¼Œåˆ°åº•æ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿæˆ‘ä»¬ä¸€èµ·æ¥åˆ†æä¸€ä¸‹ã€‚</p>","keywords":null,"cover":"https://developers.google.com/web/fundamentals/performance/http2/images/binary_framing_layer01.svg?hl=zh-cn","content":null,"text":"ä»¥ä¸‹å†…å®¹æ‘˜è‡ª HTTP/2 ç®€ä»‹ ï¼Œè¦äº†è§£æ›´å¤šè¯·ç§»æ­¥ ã€ŠWeb æ€§èƒ½æƒå¨æŒ‡å—ã€‹ï¼ˆOâ€™Reillyï¼Œä½œè€…ï¼šllya Grigorikï¼‰è¿‘æ¥ HTTP/2 çš„å£°éŸ³ä¸æ–­åœ¨å›½å†…å„ä¸ªæŠ€æœ¯è®ºå›å“èµ·ï¼Œè¯´ä»€ä¹ˆ HTTP/2 å¯ä»¥å¸¦æ¥å¤šå°‘å¤šå°‘æ€§èƒ½æå‡ï¼Œåˆ°åº•æ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿæˆ‘ä»¬ä¸€èµ·æ¥åˆ†æä¸€ä¸‹ã€‚HTT","link":"","raw":null,"photos":[],"categories":[{"name":"http/2","slug":"http-2","count":1,"path":"api/categories/http-2.json"}],"tags":[{"name":"http/2","slug":"http-2","count":1,"path":"api/tags/http-2.json"}]},{"title":"js å¼‚æ­¥è¿›åŒ–å²ä¹‹async","slug":"jså¼‚æ­¥è¿›åŒ–å²ä¹‹async","date":"2019-02-24T04:20:08.113Z","updated":"2019-02-24T04:20:08.113Z","comments":true,"path":"api/articles/jså¼‚æ­¥è¿›åŒ–å²ä¹‹async.json","excerpt":"<p>æˆ‘ä»¬çš„ js å¤„ç†çš„å¼‚æ­¥çš„æ–¹å¼ä¸æ–­è¿›åŒ–ï¼Œç°åœ¨å·²ç»åˆ°äº†ç¬¬å››ä»£ï¼Œæœ€å¼ºä¹‹ async</p>","keywords":null,"cover":"https://ws4.sinaimg.cn/large/006tKfTcgy1fo3j1dq8qjj30ko05fmxw.jpg","content":null,"text":"æˆ‘ä»¬çš„ js å¤„ç†çš„å¼‚æ­¥çš„æ–¹å¼ä¸æ–­è¿›åŒ–ï¼Œç°åœ¨å·²ç»åˆ°äº†ç¬¬å››ä»£ï¼Œæœ€å¼ºä¹‹ async [Figure] å“‡ï½nice!nice!nice!æœ€åæœ€åçš„æœ€åè¿æ›´å››ç¯‡åšå®¢ å›è°ƒ &gt; promise &gt; generator &gt; async çœŸçš„ç´¯å‘€ï½è€Œä¸”è¿˜æ˜¯å†™çš„å†°å±±ä¸€è§’ï¼Œå¯ä»¥","link":"","raw":null,"photos":[],"categories":[{"name":"å¼‚æ­¥","slug":"å¼‚æ­¥","count":4,"path":"api/categories/å¼‚æ­¥.json"}],"tags":[{"name":"async/await","slug":"async-await","count":1,"path":"api/tags/async-await.json"}]},{"title":"react key","slug":"react key","date":"2019-02-24T04:20:08.113Z","updated":"2019-02-24T04:20:08.113Z","comments":true,"path":"api/articles/react key.json","excerpt":"<p>react æ ¸å¿ƒå¼€å‘äººå‘˜è¯´ä¹‹åå¯èƒ½ä¸å†éœ€è¦ keyï¼Œè¶å®ƒè¿˜åœ¨èµ¶ç´§å»äº†è§£ä¸€æ³¼ï¼Œé€ƒï½ï½ï½</p>","keywords":null,"cover":"https://ws2.sinaimg.cn/large/006tKfTcgy1fo5t530snoj30u40eqtp7.jpg","content":null,"text":"react æ ¸å¿ƒå¼€å‘äººå‘˜è¯´ä¹‹åå¯èƒ½ä¸å†éœ€è¦ keyï¼Œè¶å®ƒè¿˜åœ¨èµ¶ç´§å»äº†è§£ä¸€æ³¼ï¼Œé€ƒï½ï½ï½ [Figure] è¿™æ · react ä¼šå‘ç° key ä¸º doxiuã€niye çš„èŠ‚ç‚¹å¹¶æ²¡æœ‰æ”¹å˜ï¼Œåªéœ€ç§»åŠ¨ä¸€ä¸‹ä½ç½®ï¼Œå†æ–°å¢ä¸€ä¸ª key=â€xueyxâ€ çš„èŠ‚ç‚¹ã€‚react ä½¿ç”¨ key è¯†åˆ«åˆ—è¡¨å­","link":"","raw":null,"photos":[],"categories":[{"name":"react","slug":"react","count":4,"path":"api/categories/react.json"}],"tags":[{"name":"react","slug":"react","count":3,"path":"api/tags/react.json"},{"name":"key","slug":"key","count":1,"path":"api/tags/key.json"}]},{"title":"react16 ç³»åˆ—ï¼ˆ1ï¼‰","slug":"react16 ç³»åˆ—ï¼ˆ1ï¼‰ ","date":"2019-02-24T04:20:08.113Z","updated":"2019-02-24T04:20:08.113Z","comments":true,"path":"api/articles/react16 ç³»åˆ—ï¼ˆ1ï¼‰ .json","excerpt":"<h3 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h3><hr>\n<p>è¿‘æ¥ä¸€ç›´å¿™å…¶ä»–äº‹ï¼Œæ²¡æ€ä¹ˆå’Œ react æ‰“è¿‡æ‹›å‘¼äº†ï¼Œè½¬çœ¼ react å·²ç»è·Ÿæ–°åˆ°äº† 16.2 ç‰ˆæœ¬ï¼Œå¹¶ä¸”å¸¦æ¥äº†å¾ˆå¤šé‡è¦çš„å˜æ›´:</p>","keywords":null,"cover":"https://ws2.sinaimg.cn/large/006tKfTcly1fnxip7ozvqj30ui0a8q5d.jpg","content":null,"text":"å‰è¨€è¿‘æ¥ä¸€ç›´å¿™å…¶ä»–äº‹ï¼Œæ²¡æ€ä¹ˆå’Œ react æ‰“è¿‡æ‹›å‘¼äº†ï¼Œè½¬çœ¼ react å·²ç»è·Ÿæ–°åˆ°äº† 16.2 ç‰ˆæœ¬ï¼Œå¹¶ä¸”å¸¦æ¥äº†å¾ˆå¤šé‡è¦çš„å˜æ›´:render å¯ä»¥è¿”å›å­—ç¬¦ä¸²ï¼ˆStringï¼‰å’Œç‰‡æ®µï¼ˆfragments)Error Boundary å¤„ç†é”™è¯¯ç»„ä»¶Portals å°†ç»„ä»¶æ¸²æŸ“åˆ°å½“å‰ç»„ä»¶","link":"","raw":null,"photos":[],"categories":[{"name":"react","slug":"react","count":4,"path":"api/categories/react.json"}],"tags":[{"name":"react","slug":"react","count":3,"path":"api/tags/react.json"},{"name":"react16","slug":"react16","count":1,"path":"api/tags/react16.json"}]}]}